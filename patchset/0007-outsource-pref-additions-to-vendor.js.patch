From 7086a444d27e01fc56a2e2acce1efc8bc4947f72 Mon Sep 17 00:00:00 2001
From: torvic9 <torvic9@mailbox.org>
Date: Sun, 27 Oct 2019 02:11:43 +0200
Subject: [PATCH] outsource pref additions to vendor.js

Signed-off-by: torvic9 <torvic9@mailbox.org>
---
 browser/app/moz.build               |  2 --
 browser/app/profile/firefox-adds.js | 28 ---------------------------
 browser/app/profile/firefox.js      | 30 -----------------------------
 3 files changed, 60 deletions(-)
 delete mode 100644 browser/app/profile/firefox-adds.js

diff --git a/browser/app/moz.build b/browser/app/moz.build
index e6d7867ad1..ff9c25912d 100644
--- a/browser/app/moz.build
+++ b/browser/app/moz.build
@@ -29,12 +29,10 @@ with Files("Makefile.in"):
 
 with Files("profile/channel-prefs.js"):
     BUG_COMPONENT = ("Firefox", "Installer")
 with Files("profile/firefox.js"):
     BUG_COMPONENT = ("Firefox", "General")
-with Files("profile/firefox-adds.js"):
-    BUG_COMPONENT = ("Firefox", "General")
 
 if CONFIG['MOZ_NO_PIE_COMPAT']:
     GeckoProgram(CONFIG['MOZ_APP_NAME'] + '-bin')
 
     DIRS += ['no-pie']
diff --git a/browser/app/profile/firefox-adds.js b/browser/app/profile/firefox-adds.js
deleted file mode 100644
index ddee9a7ad7..0000000000
--- a/browser/app/profile/firefox-adds.js
+++ /dev/null
@@ -1,28 +0,0 @@
-// Additions
-pref("privacy.resistFingerprinting", true);
-pref("devtools.onboarding.telemetry.logged", false);
-pref("toolkit.telemetry.unified", false);
-pref("toolkit.telemetry.enabled", false);
-pref("toolkit.telemetry.server", "");
-pref("datareporting.healthreport.infoURL", "");
-pref("datareporting.healthreport.uploadEnabled", false);
-pref("datareporting.policy.dataSubmissionEnabled", false);
-pref("media.peerconnection.enabled", false);
-pref("media.peerconnection.ice.default_address_only", true);
-pref("media.peerconnection.ice.no_host", true);
-pref("browser.newtabpage.enhanced", false);
-pref("browser.newtabpage.directory.source", "data:application/json,{}");
-pref("browser.newtabpage.activity-stream.feeds.telemetry", false);
-pref("browser.newtabpage.activity-stream.telemetry", false);
-pref("browser.newtabpage.activity-stream.telemetry.ping.endpoint", "");
-pref("browser.newtabpage.activity-stream.feeds.snippets", false);
-pref("browser.newtabpage.activity-stream.asrouter.providers.snippets", "");
-pref("browser.newtabpage.activity-stream.feeds.section.topstories", false);
-pref("browser.newtabpage.activity-stream.section.highlights.includePocket", false);
-pref("browser.newtabpage.activity-stream.showSponsored", false);
-pref("browser.newtabpage.activity-stream.feeds.discoverystreamfeed", false);
-pref("network.predictor.enable-prefetch", false);
-pref("devtools.debugger.remote-enabled", false); 
-pref("network.connectivity-service.enabled", false);
-pref("general.useragent.override.addons.mozilla.org", "Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101 Firefox/60.0");
-pref("browser.search.defaultenginename", "DuckDuckGo");
diff --git a/browser/app/profile/firefox.js b/browser/app/profile/firefox.js
index 868a0983d2..aa1fa9e6b2 100644
--- a/browser/app/profile/firefox.js
+++ b/browser/app/profile/firefox.js
@@ -2361,35 +2361,5 @@ pref("devtools.webide.restoreLastProject", true);
 pref("devtools.webide.enableLocalRuntime", false);
 pref("devtools.webide.lastConnectedRuntime", "");
 pref("devtools.webide.lastSelectedProject", "");
 pref("devtools.webide.zoom", "1");
 pref("devtools.webide.busyTimeout", 10000);
-
-// Additions
-pref("privacy.resistFingerprinting", true);
-pref("devtools.onboarding.telemetry.logged", false);
-pref("toolkit.telemetry.unified", false);
-pref("toolkit.telemetry.enabled", false);
-pref("toolkit.telemetry.server", "");
-pref("datareporting.healthreport.infoURL", "");
-pref("datareporting.healthreport.uploadEnabled", false);
-pref("datareporting.policy.dataSubmissionEnabled", false);
-pref("media.peerconnection.enabled", false);
-pref("media.peerconnection.ice.default_address_only", true);
-pref("media.peerconnection.ice.no_host", true);
-pref("browser.newtabpage.enhanced", false);
-pref("browser.newtabpage.directory.source", "data:application/json,{}");
-pref("browser.newtabpage.activity-stream.feeds.telemetry", false);
-pref("browser.newtabpage.activity-stream.telemetry", false);
-pref("browser.newtabpage.activity-stream.telemetry.ping.endpoint", "");
-pref("browser.newtabpage.activity-stream.feeds.snippets", false);
-pref("browser.newtabpage.activity-stream.asrouter.providers.snippets", "");
-pref("browser.newtabpage.activity-stream.feeds.section.topstories", false);
-pref("browser.newtabpage.activity-stream.section.highlights.includePocket", false);
-pref("browser.newtabpage.activity-stream.showSponsored", false);
-pref("browser.newtabpage.activity-stream.feeds.discoverystreamfeed", false);
-pref("network.predictor.enable-prefetch", false);
-pref("devtools.debugger.remote-enabled", false);
-pref("network.connectivity-service.enabled", false);
-pref("general.useragent.override.addons.mozilla.org", "Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101 Firefox/60.0");
-pref("browser.search.defaultenginename", "DuckDuckGo");
-
-- 
2.23.0

